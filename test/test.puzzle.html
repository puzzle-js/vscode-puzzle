<script>
  module.exports = {
    onCreate() {
      this.visitCount = 0;
      this.chunkCount = 0;
    },
    onRequest(req) { this.visitCount++; },
    onChunk(req) { this.chunkCount++; }
  }
</script>
<template>
  <html>
  <head>
      <title>Main Page</title>
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  </head>
  <body>
      <fragment from="platform-gw" name="header"></fragment>
      <h1>This page is viewed ${this.visitCount} times.</h1>
      ${if(this.chunkCount > 5){}
        <p>Chunks sent: ${this.chunkCount}</p>
      ${}}
      <fragment from="platform-gw" name="footer"></fragment>
  </body>
  </html>
</template>
